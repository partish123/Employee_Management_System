<div class="row">
  <div class="col-12">

    <h2>List Of Users</h2>

    <table style="width:100% ; background-color: whitesmoke" class="table  table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th>Sr No</th>
          <th>User ID</th>
          <th>First Name </th>
          <th>Last Name </th>
          <th>Email</th>
          <th>Salary</th>
          <th>Role</th>
          <th style="width: 15%;" class="text-center">Action</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let user of sortedUserList;let i= index">
          <td>{{i+1}}</td>
          <td>{{user.id}}</td>
          <td>
            <div *ngIf="user.isEdit">
              <input type="text" [(ngModel)]="updateuser.firstname" class="form-control" />
            </div>
            <div *ngIf="!user.isEdit">
              {{user.firstname}}
            </div>

          </td>
          <td>
            <div *ngIf="user.isEdit">
              <input type="text" [(ngModel)]="updateuser.lastname" class="form-control" />
            </div>
            <div *ngIf="!user.isEdit">
              {{user.lastname}}
            </div>

          </td>

          <td>
            <div *ngIf="user.isEdit">
              <input type="text" [(ngModel)]="updateuser.email" class="form-control"/>
            </div>
            <div *ngIf="!user.isEdit">
              {{user.email}}
            </div>

          </td>

          <td>{{salary[i+1]}}</td>

          <td>
            <div *ngIf="user.isEdit">

              <label for="role">Select a role:</label>              
              <select name="role" id="role" [(ngModel)]="updateuser.role">
                <option value="Developer">Developer</option>
                <option value="Tester">Tester</option>
                <option value="Analyst">Analyst</option>
              </select>

              <!-- <input type="text" [(ngModel)]="updateuser.role" class="form-control"/> -->

              <!-- <label>Assign role:
                <input [(ngModel)]="updateuser.role" list="roles" name="userRoles" /></label>
              <datalist id="roles">
                <option value="Developer">
                <option value="Tester">
                <option value="Analyst">
              </datalist> -->
            </div>

            <div *ngIf="!user.isEdit">
              {{user.roles[0].name}}
            </div>


          </td>

          <td style="width: 15%;" class="text-center">
            <span>
              <div *ngIf="user.isEdit">
                <button class="btn btn-sm btn-success" (click)="updateUserDetails(user.id)">Update</button>
                <button class="btn btn-sm btn-danger" (click)="user.isEdit = false">Cancel</button>
              </div>
              <div *ngIf="!user.isEdit">
                <button class="btn btn-sm btn-success" (click)="onEdit(user)">Edit</button>
                <button class="btn btn-sm btn-danger" (click)="doDelete(user.id)">Delete</button>
              </div>


              <!-- <button style="margin-right: 10px;" (click)="doUpdate(user.id)" mat-raised-button
                color="primary">Update</button>
              <button style="margin-right: 10px;" (click)="doDelete(user.id)" mat-raised-button
                color="primary">Delete</button> -->
              <!-- <button *ngIf="book.active==true" (click)="doBlock(book.id)" mat-raised-button color="accent">Delete</button> -->
              <!-- <button *ngIf="book.active==false" (click)="doUnBlock(book.id)" mat-raised-button
              color="accent">Unblock</button> -->
            </span>
          </td>
          
        </tr>
      </tbody>

    </table>

    {{ updateuser | json }}

  </div>
</div>